# ğŸ“Š JMX Exporterê°€ í¬í•¨ëœ Kafka ì´ë¯¸ì§€
FROM confluentinc/cp-kafka:7.6.1

# root ê¶Œí•œìœ¼ë¡œ JMX Prometheus Java Agent ë‹¤ìš´ë¡œë“œ
USER root
RUN curl -L -o /opt/jmx_prometheus_javaagent.jar \
    https://repo1.maven.org/maven2/io/prometheus/jmx/jmx_prometheus_javaagent/0.20.0/jmx_prometheus_javaagent-0.20.0.jar && \
    chmod 644 /opt/jmx_prometheus_javaagent.jar

# ê¸°ë³¸ ì‚¬ìš©ìë¡œ ë³µì›
USER appuser

# ê¸°ë³¸ ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ìœ ì§€
CMD ["/etc/confluent/docker/run"]